---
import { GLOBAL } from "../../lib/variables";
---

<section class="hero-section relative overflow-hidden">
  <!-- Animated background elements -->
  <div class="absolute inset-0 -z-10">
    <div class="floating-shapes">
      <div class="shape shape-1"></div>
      <div class="shape shape-2"></div>
      <div class="shape shape-3"></div>
    </div>
  </div>

  <!-- AI Agent Animation -->
  <div class="ai-agent-animation absolute top-4 right-4 hidden lg:block">
    <div class="ai-terminal-container ai-glow">
      <div class="terminal-header">
        <div class="terminal-buttons">
          <div class="terminal-button close"></div>
          <div class="terminal-button minimize"></div>
          <div class="terminal-button maximize"></div>
        </div>
        <div class="terminal-title">
          <span class="ai-gradient-text">AI Agent Terminal</span>
        </div>
      </div>
      
      <div class="terminal-content">
        <div class="terminal-line">
          <span class="prompt">$</span>
          <span class="command ai-typing">initializing AI system...</span>
        </div>
        <div class="terminal-line">
          <span class="prompt">$</span>
          <span class="command ai-typing">analyzing portfolio...</span>
        </div>
        <div class="terminal-line">
          <span class="prompt">$</span>
          <span class="command ai-typing">optimizing code...</span>
        </div>
        <div class="terminal-line">
          <span class="prompt">$</span>
          <span class="command ai-typing">deploying automation...</span>
        </div>
        <div class="terminal-line">
          <span class="prompt">$</span>
          <span class="command ai-typing">âœ… Success!</span>
        </div>
        <div class="terminal-line">
          <span class="prompt">$</span>
          <span class="cursor">_</span>
        </div>
      </div>
    </div>
  </div>

  <div class="container mx-auto px-4 py-16">
    <div class="flex flex-col items-center sm:flex-row gap-8 lg:gap-12">
      
      <!-- Profile Image with enhanced animations -->
      <div class="profile-container relative group">
        <div class="profile-glow absolute inset-0 bg-emerald-500/20 rounded-full blur-xl group-hover:bg-emerald-500/30 transition-all duration-500"></div>
        <img
          src={GLOBAL.profileImage}
          alt={GLOBAL.profileAlt}
          class="profile-image relative rounded-full w-40 h-40 sm:w-48 sm:h-48 object-cover grayscale hover:grayscale-0 transition-all duration-700 ease-out transform hover:scale-105 hover:rotate-2 shadow-2xl border-4 border-zag-light/20 dark:border-zag-dark/20 hover:border-emerald-500/50"
          loading="eager"
          width="192"
          height="192"
        />
        <div class="profile-ring absolute inset-0 rounded-full border-2 border-emerald-500/30 animate-pulse"></div>
      </div>

      <!-- Content with staggered animations -->
      <div class="content-container text-center sm:text-left max-w-2xl">
        
        <!-- Name with AI gradient animation -->
        <h1 class="hero-title text-4xl sm:text-5xl lg:text-6xl font-display font-bold mb-4 ai-gradient-text animate-fade-in-up">
          {GLOBAL.username}
        </h1>

        <!-- Short description with AI typing animation -->
        <h2 class="hero-subtitle text-xl sm:text-2xl font-mono font-medium mb-4 text-zag-text animate-fade-in-up animation-delay-200 overflow-visible">
          <span class="ai-typing">{GLOBAL.shortDescription}</span>
        </h2>

        <!-- Long description with fade animation -->
        <p class="hero-description text-lg zag-muted mb-8 leading-relaxed animate-fade-in-up animation-delay-400">
          {GLOBAL.heroDescription}
        </p>

        <!-- Action buttons with AI hover effects -->
        <div class="hero-buttons flex flex-wrap gap-4 justify-center sm:justify-start animate-fade-in-up animation-delay-600">
          <a 
            href={GLOBAL.linkedinProfile} 
            class="ai-button bg-emerald-600 text-white px-6 py-3 rounded-lg font-medium flex items-center gap-2"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="LinkedIn Profile"
          >
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" class="transition-transform group-hover:scale-110">
              <path d="M19 0h-14c-2.76 0-5 2.24-5 5v14c0 2.76 2.24 5 5 5h14c2.76 0 5-2.24 5-5v-14c0-2.76-2.24-5-5-5zm-11.12 19h-3.08v-9h3.08v9zm-1.54-10.29c-.99 0-1.79-.8-1.79-1.79s.8-1.79 1.79-1.79 1.79.8 1.79 1.79-.8 1.79-1.79 1.79zm13.16 10.29h-3.08v-4.89c0-1.16-.02-2.64-1.61-2.64s-1.86 1.26-1.86 2.57v4.96h-3.08v-9h2.96v1.23h.04c.41-.78 1.4-1.6 2.88-1.6 3.08 0 3.65 2.03 3.65 4.66v4.71z"/>
            </svg>
            {GLOBAL.connectButton}
          </a>
          
          <a 
            href={GLOBAL.githubProfile} 
            class="ai-button border-2 border-emerald-600 text-emerald-600 px-6 py-3 rounded-lg font-medium flex items-center gap-2 hover:text-white"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="GitHub Repository"
          >
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" class="transition-transform group-hover:scale-110">
              <path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/>
            </svg>
            {GLOBAL.viewCodeButton}
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* Hero Section Styles */
  .hero-section {
    min-height: 80vh;
    display: flex;
    align-items: center;
  }

  /* AI Agent Animation */
  .ai-agent-animation {
    animation: slideInFromRight 1s ease-out 0.5s both;
  }

  .ai-terminal {
    animation: terminalGlow 3s ease-in-out infinite;
  }

  .command-line {
    margin-bottom: 0.5rem;
    opacity: 0;
    animation: fadeInCommand 0.5s ease-out forwards;
  }

  .command-line:nth-child(1) { animation-delay: 1s; }
  .command-line:nth-child(2) { animation-delay: 2s; }
  .command-line:nth-child(3) { animation-delay: 3s; }
  .command-line:nth-child(4) { animation-delay: 4s; }
  .command-line:nth-child(5) { animation-delay: 5s; }

  .typing-command {
    border-right: 2px solid #10b981;
    animation: blink 1s infinite;
  }

  /* Floating Shapes Animation */
  .floating-shapes {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .shape {
    position: absolute;
    background: linear-gradient(45deg, rgba(16, 185, 129, 0.1), rgba(59, 130, 246, 0.1));
    border-radius: 50%;
    animation: float 6s ease-in-out infinite;
  }

  .shape-1 {
    width: 200px;
    height: 200px;
    top: 10%;
    left: 10%;
    animation-delay: 0s;
  }

  .shape-2 {
    width: 150px;
    height: 150px;
    top: 60%;
    right: 15%;
    animation-delay: 2s;
  }

  .shape-3 {
    width: 100px;
    height: 100px;
    bottom: 20%;
    left: 20%;
    animation-delay: 4s;
  }

  /* Profile Image Animations */
  .profile-container {
    animation: fadeInUp 1s ease-out 0.3s both;
  }

  .profile-glow {
    animation: glowPulse 3s ease-in-out infinite;
  }

  .profile-ring {
    animation: ringPulse 2s ease-in-out infinite;
  }

  /* Content Animations */
  .hero-title {
    animation: fadeInUp 1s ease-out 0.5s both;
  }

  .hero-subtitle {
    animation: fadeInUp 1s ease-out 0.7s both;
  }

  .hero-description {
    animation: fadeInUp 1s ease-out 0.9s both;
  }

  .hero-buttons {
    animation: fadeInUp 1s ease-out 1.1s both;
  }

  /* Typing Animation */
  .typing-text {
    overflow: hidden;
    border-right: 2px solid #10b981;
    white-space: nowrap;
    animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
  }

  /* Button Animations */
  .btn-primary, .btn-secondary {
    transition: all 0.3s ease;
  }

  .btn-primary:hover, .btn-secondary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
  }

  /* Keyframe Animations */
  @keyframes slideInFromRight {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes terminalGlow {
    0%, 100% { box-shadow: 0 0 20px rgba(16, 185, 129, 0.3); }
    50% { box-shadow: 0 0 30px rgba(16, 185, 129, 0.6); }
  }

  @keyframes fadeInCommand {
    from {
      opacity: 0;
      transform: translateX(-10px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes blink {
    0%, 50% { border-color: transparent; }
    51%, 100% { border-color: #10b981; }
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0px) rotate(0deg);
    }
    33% {
      transform: translateY(-20px) rotate(120deg);
    }
    66% {
      transform: translateY(-10px) rotate(240deg);
    }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes glowPulse {
    0%, 100% {
      opacity: 0.2;
      transform: scale(1);
    }
    50% {
      opacity: 0.4;
      transform: scale(1.05);
    }
  }

  @keyframes ringPulse {
    0%, 100% {
      opacity: 0.3;
      transform: scale(1);
    }
    50% {
      opacity: 0.6;
      transform: scale(1.1);
    }
  }

  @keyframes typing {
    from { width: 0; }
    to { width: 100%; }
  }

  @keyframes blink-caret {
    from, to { border-color: transparent; }
    50% { border-color: #10b981; }
  }

  /* Responsive adjustments */
  @media (max-width: 1024px) {
    .ai-agent-animation {
      display: none;
    }
  }

  @media (max-width: 640px) {
    .hero-subtitle {
      font-size: 1.125rem;
      line-height: 1.5;
    }
    
    .hero-description {
      font-size: 1rem;
    }
  }
</style>

<script>
  // Intersection Observer for animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        (entry.target as HTMLElement).style.animationPlayState = 'running';
      }
    });
  }, observerOptions);

  // Observe animated elements
  document.addEventListener('DOMContentLoaded', () => {
    const animatedElements = document.querySelectorAll('.hero-title, .hero-subtitle, .hero-description, .hero-buttons, .profile-container');
    animatedElements.forEach(el => {
      observer.observe(el);
    });

    // Profile image bounce effect
    const profileImage = document.querySelector('.profile-image') as HTMLElement;
    if (profileImage) {
      profileImage.addEventListener('mouseenter', () => {
        profileImage.style.transform = 'scale(1.05) rotate(2deg)';
      });
      
      profileImage.addEventListener('mouseleave', () => {
        profileImage.style.transform = 'scale(1) rotate(0deg)';
      });
    }
  });
</script>
